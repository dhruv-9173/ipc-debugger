<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPC Debugger - Inter-Process Communication Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <h1 class="header-title">
                    <span class="icon">üîß</span>
                    IPC Debugger
                </h1>
                <span class="header-subtitle">Inter-Process Communication Analysis Tool</span>
            </div>
            
            <div class="header-right">
                <div class="connection-status">
                    <span class="status-indicator" id="statusIndicator"></span>
                    <span class="status-text" id="statusText">Disconnected</span>
                </div>
                
                <div class="notification-badge" id="notificationBadge" style="display: none;">
                    <span class="icon">üîî</span>
                    <span class="badge-count" id="notificationCount">0</span>
                </div>
            </div>
        </div>
        
        <div class="notifications-bar" id="notificationsBar" style="display: none;"></div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <button class="nav-item active" data-tab="pipes">
                    <span class="nav-icon">üîó</span>
                    <span class="nav-label">Pipes</span>
                </button>
                <button class="nav-item" data-tab="queues">
                    <span class="nav-icon">üì¨</span>
                    <span class="nav-label">Message Queues</span>
                </button>
                <button class="nav-item" data-tab="memory">
                    <span class="nav-icon">üíæ</span>
                    <span class="nav-label">Shared Memory</span>
                </button>
                <button class="nav-item" data-tab="analysis">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">Analysis Dashboard</span>
                </button>
                <button class="nav-item" data-tab="simulator">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-label">Process Simulator</span>
                </button>
            </nav>
        </aside>

        <!-- Content Area -->
        <div class="content">
            <!-- Pipes Tab -->
            <div id="pipes-tab" class="tab-content active">
                <h2>üì° Pipe Debugger</h2>
                <p class="description">Create and manage unidirectional and bidirectional pipes between processes</p>

                <div class="grid-2">
                    <!-- Create Pipe -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Create New Pipe</h3>
                        </div>
                        <form id="createPipeForm">
                            <div class="input-group">
                                <label>Process A</label>
                                <input type="text" id="processA" placeholder="e.g., Producer" required>
                            </div>
                            <div class="input-group">
                                <label>Process B</label>
                                <input type="text" id="processB" placeholder="e.g., Consumer" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Create Pipe</button>
                        </form>
                    </div>

                    <!-- Send Data -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Send Data Through Pipe</h3>
                        </div>
                        <form id="sendPipeDataForm">
                            <div class="input-group">
                                <label>Select Pipe</label>
                                <select id="pipeSelect" required>
                                    <option value="">-- Select a pipe --</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Direction</label>
                                <select id="pipeDirection">
                                    <option value="AtoB">A ‚Üí B</option>
                                    <option value="BtoA">B ‚Üí A</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Message Data</label>
                                <textarea id="pipeMessage" placeholder="Enter message data..." rows="3" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-success">Send Data</button>
                        </form>
                    </div>
                </div>

                <!-- Active Pipes -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Active Pipes (<span id="pipesCount">0</span>)</h3>
                    </div>
                    <div id="pipesList"></div>
                </div>
            </div>

            <!-- Queues Tab -->
            <div id="queues-tab" class="tab-content">
                <h2>üì¨ Message Queue Debugger</h2>
                <p class="description">Create and manage message queues with priority support and bottleneck detection</p>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Create Message Queue</h3>
                        </div>
                        <form id="createQueueForm">
                            <div class="input-group">
                                <label>Queue Name</label>
                                <input type="text" id="queueName" placeholder="e.g., TaskQueue" required>
                            </div>
                            <div class="input-group">
                                <label>Max Size</label>
                                <input type="number" id="queueMaxSize" value="100" min="10" max="10000" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Create Queue</button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Send Message</h3>
                        </div>
                        <form id="sendQueueMessageForm">
                            <div class="input-group">
                                <label>Select Queue</label>
                                <select id="queueSelect" required>
                                    <option value="">-- Select a queue --</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Sender</label>
                                <input type="text" id="queueSender" placeholder="Process name" required>
                            </div>
                            <div class="input-group">
                                <label>Message</label>
                                <textarea id="queueMessage" placeholder="Message content..." rows="2" required></textarea>
                            </div>
                            <div class="input-group">
                                <label>Priority (0-10)</label>
                                <input type="number" id="queuePriority" value="0" min="0" max="10">
                            </div>
                            <button type="submit" class="btn btn-success">Send Message</button>
                        </form>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Receive Message</h3>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: flex-end;">
                        <div class="input-group" style="flex: 1;">
                            <label>Receiver Process</label>
                            <input type="text" id="queueReceiver" placeholder="Process name">
                        </div>
                        <button class="btn btn-primary" id="receiveMessageBtn">Receive Message</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Active Queues (<span id="queuesCount">0</span>)</h3>
                    </div>
                    <div id="queuesList"></div>
                </div>
            </div>

            <!-- Memory Tab -->
            <div id="memory-tab" class="tab-content">
                <h2>üíæ Shared Memory Debugger</h2>
                <p class="description">Manage shared memory segments with locking mechanisms and deadlock detection</p>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Create Shared Memory</h3>
                        </div>
                        <form id="createMemoryForm">
                            <div class="input-group">
                                <label>Memory Name</label>
                                <input type="text" id="memoryName" placeholder="e.g., SharedData" required>
                            </div>
                            <div class="input-group">
                                <label>Size (bytes)</label>
                                <input type="number" id="memorySize" value="1024" min="128" max="10240" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Create Memory Segment</button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Lock Management</h3>
                        </div>
                        <div class="input-group">
                            <label>Select Memory</label>
                            <select id="memorySelect">
                                <option value="">-- Select memory --</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Process ID</label>
                            <input type="text" id="lockProcessId" placeholder="e.g., P1">
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-success" id="acquireLockBtn">üîí Acquire Lock</button>
                            <button class="btn btn-secondary" id="releaseLockBtn">üîì Release Lock</button>
                        </div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Write Data</h3>
                        </div>
                        <form id="writeMemoryForm">
                            <div class="input-group">
                                <label>Data (JSON format)</label>
                                <textarea id="memoryWriteData" placeholder='{"key": "value", "count": 42}' rows="4" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Write to Memory</button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Read Data</h3>
                        </div>
                        <div class="input-group">
                            <label>Reader Process ID</label>
                            <input type="text" id="readProcessId" placeholder="e.g., P2">
                        </div>
                        <button class="btn btn-success" id="readMemoryBtn">Read from Memory</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Active Memory Segments (<span id="memoriesCount">0</span>)</h3>
                    </div>
                    <div id="memoriesList"></div>
                </div>
            </div>

            <!-- Analysis Tab -->
            <div id="analysis-tab" class="tab-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div>
                        <h2>üìä Analysis Dashboard</h2>
                        <p class="description">Real-time monitoring of bottlenecks, deadlocks, and system performance</p>
                    </div>
                    <button class="btn btn-secondary" id="resetAnalysisBtn">Reset Analysis</button>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">System Metrics</h3>
                    </div>
                    <div class="stats-grid" id="systemMetrics"></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Bottlenecks Detected</h3>
                    </div>
                    <div id="bottlenecksContent"></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Deadlock Analysis</h3>
                    </div>
                    <div id="deadlocksContent"></div>
                </div>
            </div>

            <!-- Simulator Tab -->
            <div id="simulator-tab" class="tab-content">
                <h2>‚öôÔ∏è Process Simulator</h2>
                <p class="description">Simulate various IPC scenarios and test different communication patterns</p>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Simulation Scenarios</h3>
                    </div>
                    
                    <div class="scenarios-grid">
                        <div class="scenario-card">
                            <div class="scenario-icon">üîÑ</div>
                            <h4>Producer-Consumer</h4>
                            <p>Simulate producer-consumer pattern using pipes and message queues</p>
                            <button class="btn btn-primary">Run Scenario</button>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-icon">üìä</div>
                            <h4>Data Sharing</h4>
                            <p>Multiple processes reading and writing to shared memory</p>
                            <button class="btn btn-primary">Run Scenario</button>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-icon">‚ö†Ô∏è</div>
                            <h4>Deadlock Scenario</h4>
                            <p>Intentionally create a deadlock situation for testing</p>
                            <button class="btn btn-danger">Run Scenario</button>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-icon">üö¶</div>
                            <h4>High Traffic</h4>
                            <p>Stress test with high-frequency data transfers</p>
                            <button class="btn btn-primary">Run Scenario</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
